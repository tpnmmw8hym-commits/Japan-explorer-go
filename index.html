<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Japan by Muchan</title>

<!-- Leaflet Map CSS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
/>

<!-- Leaflet Map JS -->
<script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"></script>

<style>
/* ======== GLOBAL THEME ======== */
:root {
  --bg: #fafafa;
  --text: #111;
  --soft: #777;
  --card: rgba(255, 255, 255, 0.7);
  --blur: blur(12px);
  --radius: 18px;
  --accent: #e60012; /* Japan red */
}

/* DARK MODE */
.dark {
  --bg: #0e0e11;
  --text: #f5f5f5;
  --soft: #bbb;
  --card: rgba(25, 25, 25, 0.5);
}

/* ======== BODY ======== */
body {
  margin: 0;
  background: var(--bg);
  font-family: "Inter", sans-serif;
  color: var(--text);
}

/* ======== HEADER ======== */
header {
  text-align: center;
  padding: 20px 0;
  font-size: 26px;
  font-weight: 700;
}

/* ======== MAP ======== */
#map {
  height: 55vh;
  width: 100%;
  border-radius: 20px;
  margin-bottom: 20px;
}

/* ======== FLOATING SEARCH ======== */
.search-box {
  position: fixed;
  top: 85px;
  width: 85%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--card);
  backdrop-filter: var(--blur);
  padding: 14px;
  border-radius: var(--radius);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  z-index: 999;
}
.search-box input {
  width: 100%;
  border: none;
  background: transparent;
  outline: none;
  font-size: 16px;
}

/* ======== DARK MODE BUTTON ======== */
.dark-toggle {
  position: fixed;
  top: 95px;
  right: 20px;
  font-size: 22px;
  background: var(--card);
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  backdrop-filter: var(--blur);
  z-index: 999;
}

/* ======== CONTAINER ======== */
.container {
  padding: 20px;
}

/* ======== DROPDOWN ======== */
select {
  width: 100%;
  padding: 14px;
  border-radius: var(--radius);
  border: 1px solid #ddd;
  background: var(--card);
  font-size: 16px;
  backdrop-filter: var(--blur);
}

/* ======== PLACE CARDS ======== */
.place-card {
  background: var(--card);
  backdrop-filter: var(--blur);
  padding: 18px;
  border-radius: var(--radius);
  margin-bottom: 18px;
}

/* ======== BUTTONS ======== */
.btn {
  background: var(--accent);
  color: white;
  padding: 10px 14px;
  border-radius: 10px;
  display: inline-block;
  text-decoration: none;
  margin-top: 8px;
}
</style>
</head>

<body>

<header>ðŸ‡¯ðŸ‡µ Japan by Muchan</header>

<!-- Search box -->
<div class="search-box">
  <input id="search" placeholder="Search: PokÃ©mon, TeamLab, Foodâ€¦" />
</div>

<!-- Dark mode -->
<div class="dark-toggle" onclick="toggleDark()">ðŸŒ™</div>

<!-- Map -->
<div id="map"></div>

<div class="container">
  <select id="filter">
    <option value="">All Categories</option>
    <option value="pokemon">PokÃ©mon Centers</option>
    <option value="tealab">TeamLab</option>
    <option value="food">Food</option>
    <option value="matcha">Matcha Ceremony</option>
    <option value="mochi">Mochi Workshop</option>
    <option value="activity">Activities</option>
  </select>

  <h2>Results</h2>
  <div id="list"></div>
</div>

<script>
/* ======== MAP ======== */
var map = L.map("map").setView([36.2048, 138.2529], 5);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);

/* ======== DATA (Sample) ======== */
const places = [
  {
    name: "PokÃ©mon Center Shibuya",
    lat: 35.6595,
    lng: 139.7005,
    category: "pokemon",
    desc: "One of the coolest PokÃ©mon centers!",
  },
  {
    name: "TeamLab Planets Tokyo",
    lat: 35.6434,
    lng: 139.787,
    category: "tealab",
    desc: "Walk through water & digital art.",
  },
  {
    name: "Dotonbori Takoyaki",
    lat: 34.6687,
    lng: 135.5011,
    category: "food",
    desc: "Osakaâ€™s famous street food.",
  },
  {
    name: "Kyoto Matcha Ceremony",
    lat: 34.99,
    lng: 135.78,
    category: "matcha",
    desc: "Traditional tea ceremony.",
  },
];

/* ======== MAP MARKERS ======== */
let markers = [];

function loadMarkers(list) {
  markers.forEach((m) => map.removeLayer(m));
  markers = [];

  list.forEach((p) => {
    let m = L.marker([p.lat, p.lng])
      .addTo(map)
      .bindPopup(`<b>${p.name}</b><br>${p.desc}`);
    markers.push(m);
  });
}

/* ======== FILTER + SEARCH ======== */
function refreshList() {
  const q = document.getElementById("search").value.toLowerCase();
  const cat = document.getElementById("filter").value;

  const filtered = places.filter(
    (p) =>
      p.name.toLowerCase().includes(q) &&
      (cat === "" || p.category === cat)
  );

  loadMarkers(filtered);

  const list = document.getElementById("list");
  list.innerHTML = "";
  filtered.forEach((p) => {
    list.innerHTML += `
      <div class="place-card">
        <h3>${p.name}</h3>
        <p>${p.desc}</p>
        <a class="btn" href="https://maps.google.com/?q=${p.lat},${p.lng}" target="_blank">Open in Maps</a>
      </div>
    `;
  });
}

refreshList();

document.getElementById("search").oninput = refreshList;
document.getElementById("filter").onchange = refreshList;

/* ======== DARK MODE ======== */
function toggleDark() {
  document.body.classList.toggle("dark");
}
</script>

</body>
</html>